<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cell Model</title>
    <!-- Incluye el encabezado de las páginas parciales -->
    <%- include('partials/head') %>
    <!-- Agrega el enlace al archivo app.js -->
    <script src="/app.js"></script>
</head>
<body>
    <!-- Llama a la barra de navegación para redirigir y mostrar la interfaz -->
    <%- include('partials/navigation') %>

    <!-- CONTENIDO PRINCIPAL -->
    <header class="container vh-100 d-flex justify-content-center align-items-center">
        <div class="d-flex flex-column align-items-center">
            <img src="/img/celula.png" class="w-25">
            <h1 class="display-1 my-5 text-uppercase fw-bold">Cell Id</h1>
            <!-- Formulario para cargar la imagen -->
            <form action="/upload" method="POST" enctype="multipart/form-data">
                <input type="file" id="imageInput" name="image" class="btn btn-custom-primary w-100 mt-3">
                <button id="saveImageBtn" class="btn btn-custom-primary w-100 mt-3">Analizar Imagen</button>
            </form>
        </div>
    </header>

    <!-- Botón emergente oculto para el caso de analizar una imagen sin seleccionar ninguna -->
    <div id="popup" class="popup">   
        <div class="popup-content">
            <p id="popup-message">No se ha seleccionado ninguna imagen</p>
            <button id="popup-close">Cerrar</button>
        </div>
    </div>

    <script> 
        const saveImageBtn = document.getElementById("saveImageBtn");
        const popup = document.getElementById("popup");
        const popupMessage = document.getElementById("popup-message");
        const popupClose = document.getElementById("popup-close");

        saveImageBtn.addEventListener("click", function (event) {
            // Verifica si no se ha seleccionado ninguna imagen
            if (!selectedImage) {
                event.preventDefault();
                popupMessage.textContent = "No se ha seleccionado ninguna imagen.";
                popup.style.display = "block";
                return;
            }
        });

        popupClose.addEventListener("click", function () {
            popup.style.display = "none";
        });
    </script>

    <!-- Incluye el pie de página de las páginas parciales -->
    <%- include('partials/footer') %>
</body>
</html>
